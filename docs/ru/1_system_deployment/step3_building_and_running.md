[Развертывание системы](/docs/ru/1_system_deployment/)  
# Шаг 3 Cборка и запуск приложения
### Предыдущая страница: [Шаг 2 Формирование проекта с модулями](/docs/ru/1_system_deployment/step2_project_with_modules.md)

Для всех дальнейших команд, необходимо запустить командную строку с правами администратора. Перейти в папку приложения `cd c:\workspace\dnt` (для примера ранее) и ОБЯЗАТЕЛЬНО ЗАДАТЬ ПЕРЕМЕННУЮ ОКРУЖЕНИЯ `NODE_PATH` равной пути к нашему приложению следующей командой `set NODE_PATH=c:\workspace\dnt`.

![image](/uploads/5c227620ef05f77df9e9531c29b30b7b/image.png)

## Сборка приложения
Сборка приложения обеспечивает установку всех библиотек, импорт данных в базу данных и подготовку приложения для запуска.

При первом запуске нужно выполнить `npm install` - она поставит ключевые зависимости, в том числе локально сборщик gulp (можно установить только его `npm install gulp`). Эта команда ставить все библиотеки из свойства `dependencies` файла `package.json` ядра.

После выполнения `npm install` интерпретатор может выдать сообщение наподобие указанного ниже. Это сообщение предупреждает о том, что в зависимостях содержатся модули, которые могут быть потенциально опасными для проекта. Никаких дополнительных действий по этому поводу предпринимать не нужно.

Внимание! **Нижеследующее сообщение не является ошибкой**

>  audited 2716 packages in 6.508s
   found 5 vulnerabilities (1 low, 4 high)
   run npm audit fix to fix them, or npm audit for details

После этого, а также все последующие разы выполняем команду сборки приложения `gulp assemble`, обязательно нужно убедиться, что стоит переменная окружения NODE_PATH, запущена база `Mongo`, и в переменной `Path` указан путь к Git (пример `C:\Program Files\Git\bin`).


![image](/uploads/fa3614243213775760dcd6dc2ae30b4a/image.png)

Перед непосредственным запуском приложения необходимо добавить базового пользователя для входа. Откройте `Mongo Compass` и в базе данных найдите таблицу `ion-user`. Удалите все записи, которые увидите там. Далее `вернитесь в консоль` и выполните указанные ниже команды. 

```
node bin\adduser.js --name admin --pwd 123
node bin\acl.js --u admin@local --role admin --p full
```

## Запуск приложения
После окончания сборки можно запускать приложение. Обязательно нужно убедиться, что стоит переменная окружения NODE_PATH. Без этого система выдаст ошибку, об отсутствии компонентов.

Запуск системы осуществляется командой `npm start`, альтерантивой является запуск `node bin\www`

После запуска системы, как будет выведена информация, что система запущена на порту , например `8888` можно открыть барузер и набрать в нём адрес системы `http://localhost:8888`

### Следующая страница: [Описание системы](/docs/ru/2_system_description) 
--------------------------------------------------------------------------  


 #### [Licence](platform/licence.md)&ensp;  [Contact us](https://iondv.ru/index.html) &ensp;  [ENG](/docs/en/1_system_deployment/step3_building_and_running.md)   &ensp; [FAQs](/faqs.md)          



--------------------------------------------------------------------------  

 Copyright (c) **IONDV**. All rights reserved. 

