[Развертывание системы](/docs/ru/1_system_deployment/)  

### Предыдущая страница: [Шаг 2 Формирование проекта с модулями](/docs/ru/1_system_deployment/step2_project_with_modules.md)

# Шаг 3 Cборка и запуск приложения

Для всех дальнейших команд, необходимо запустить командную строку от имени администратора. Перейдите в папку приложения `cd c:\workspace\dnt` и задайте переменную окружения  `NODE_PATH` равной пути к приложению. Для Windows команда - `set NODE_PATH=c:\workspace\dnt` и для Linux - `export NODE_PATH=/workspace/dnt`.

## Сборка приложения

Сборка приложения обеспечивает установку всех библиотек, импорт данных в базу данных и подготовку приложения для запуска.

1. При первом запуске необходимо выполнить `npm install gulp@3.9.1` - она поставит ключевые зависимости, в том числе локально сборщик `gulp`. Убедитесь, что версия `Gulp` - `3.9.1`. Эта команда ставит все библиотеки из свойства `dependencies` файла `package.json` ядра.

2. Выполните импорт меты приложения командой `node bin\import --src C:\workspace\platform\applications\develop-and-test --ns develop-and-test`.

3. После этого, а также все последующие разы выполняйте команду сборки приложения `gulp assemble`. 

**NB:** Убедитесь, что стоит переменная окружения `NODE_PATH`, запущена база `MongoDB`, `Gulp` установлен глобально и локально и его версия не выше `3.9.1`.

4. Перед непосредственным запуском приложения необходимо добавить базового пользователя для входа. Откройте программу `Mongo Compass` и в базе данных найдите таблицу `ion-user`. Удалите все записи, которые увидите там. Далее вернитесь в консоль и выполните указанные ниже команды. 

```
node bin\adduser.js --name admin --pwd 123
node bin\acl.js --u admin@local --role admin --p full
```

## Запуск приложения

После окончания сборки можно запускать приложение. Убедитесь, что стоит переменная окружения `NODE_PATH`. Без этого система выдаст ошибку, об отсутствии компонентов.

Запуск системы осуществляется командой `npm start`, альтерантивой является запуск `node bin\www`.

После запуска системы, откройте браузер с адресом `http://localhost:8888` и авторизуйтесь в приложении, где `8888` - порт указанный в параметре `server.ports` конфигурации запуска. 

### Следующая страница: [Описание системы - схема метаданных](/docs/ru/2_system_description/metadata_structure/meta_sheme.md) 
--------------------------------------------------------------------------  


 #### [Licence](/LICENCE.md) &ensp;  [Contact us](https://iondv.ru/index.html) &ensp;  [ENG](/docs/en/1_system_deployment/step3_building_and_running.md)   &ensp; [FAQs](/faqs.md)          



--------------------------------------------------------------------------  

Copyright (c) 2018 **IONDV.Framework**.  
All rights reserved.  


